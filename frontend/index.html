<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Conciliador Contable</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <header class="header-contenedor">
        <div class="header-titulo">
          <h1>Conciliador Contable</h1>
          <p>
          Sube el Excel de <strong>extractos</strong> y el Excel
          <strong>contable</strong> para comparar y ver quÃ© movimientos difieren.
          </p>
        </div>
        <button type="button" id="tema-btn" class="tema-switch" role="switch" aria-label="Cambiar entre tema claro y oscuro" aria-checked="false" title="Cambiar tema">
          <span class="tema-switch-track">
            <span class="tema-switch-icon tema-switch-sol" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
            </span>
            <span class="tema-switch-thumb"></span>
            <span class="tema-switch-icon tema-switch-luna" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            </span>
          </span>
        </button>
      </header>

      <main>
        <form id="conciliacion-form">
          <div class="field">
            <span class="field-label">Archivo de extractos (.xlsx)</span>
            <label for="extractos_file" class="upload-zone" id="upload-zone-extractos">
              <input type="file" id="extractos_file" name="extractos_file" accept=".xlsx" required class="upload-input" />
              <span class="upload-icon" aria-hidden="true">ðŸ“„</span>
              <span class="upload-text">ArrastrÃ¡ un archivo .xlsx o hacÃ© clic para elegir</span>
              <span class="upload-filename" id="filename-extractos"></span>
            </label>
          </div>

          <div class="field">
            <span class="field-label">Archivo contable (.xlsx)</span>
            <label for="contable_file" class="upload-zone" id="upload-zone-contable">
              <input type="file" id="contable_file" name="contable_file" accept=".xlsx" required class="upload-input" />
              <span class="upload-icon" aria-hidden="true">ðŸ“„</span>
              <span class="upload-text">ArrastrÃ¡ un archivo .xlsx o hacÃ© clic para elegir</span>
              <span class="upload-filename" id="filename-contable"></span>
            </label>
          </div>

          <button type="submit" id="conciliar-btn">Comparar</button>
        </form>

        <div id="mensajes" class="mensajes"></div>

        <div id="resultado-contenedor" class="resultado-contenedor" hidden>
          <h2>Movimientos que difieren</h2>
          <p id="resumen-texto" class="resumen-texto"></p>

          <div id="solo-extractos" class="lista-movimientos">
            <details class="lista-colapsable" id="details-extractos">
              <summary class="lista-colapsable-titulo" id="summary-extractos">Solo en archivo de extractos</summary>
              <ul id="lista-extractos"></ul>
            </details>
          </div>

          <div id="solo-contable" class="lista-movimientos">
            <details class="lista-colapsable" id="details-contable">
              <summary class="lista-colapsable-titulo" id="summary-contable">Solo en archivo contable</summary>
              <ul id="lista-contable"></ul>
            </details>
          </div>

          <button id="descargar-excel-btn" class="secondary-btn" style="display: none;">
            Descargar Excel
          </button>
        </div>
      </main>

      <footer>
        <small>
          Backend en FastAPI &middot; Se comparan por fecha y monto: iguales =
          OK.
        </small>
      </footer>
    </div>

    <script src="script.js"></script>
  </body>
</html>

